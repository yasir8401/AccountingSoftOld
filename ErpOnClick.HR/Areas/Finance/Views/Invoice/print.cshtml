@using ErpOnClick.DAL.Models
@{
    Layout = "_LayoutReport";
    Invoices InvoiceMDetails = Model.invoiceMDetail;
    Company CompanyDetail = Model.CompanyDetail;
    List<InvoicesLines> InvoiceDList = Model.invoiceDList;
    //List<ErpOnClick.DAL.Models.Items> ItemsList = Model.ItemsList;
    //List<Branch> BranchDetails = Model.branchList;
    List<Customers> CustomersDetails = Model.customersList;
    //List<TaxRates> TaxList = Model.TaxList;
    int count = 0;
}

<div>
    <br />
    <table id="Outline1" style="border-collapse: collapse" bordercolor="silver" cellspacing="0" cellpadding="3" width="100%" border="0">
        <tbody>
            <tr>
                <td>
                    <h2 class="ReportTitle text-center" style="font-size: 25px ; margin:0px;  ">
                        VAT INVOICE / فاتورة ضريبة
                    </h2>
                    <h4 class="text-center" style="margin:5px 0px 0px 0px; font-weight:500"> VAT RC: @CompanyDetail.VatNo</h4><br>

                    <table cellspacing="0" cellpadding="5" rules="all" border="0" id="DataGrid1" style="width: 100%;  " class="tblDetail">
                        <thead>


                        </thead>
                        <tbody>
                            <tr class="Grid_HeaderStyle text-center">
                                <td width="50%">Invoice To / <span style="letter-spacing:normal !important;font-size: 13px;font-family: tahoma;">فاتورة إلى</span> </td>
                                <td colspan="2">Invoice / <span style="letter-spacing:normal !important;font-size: 13px;font-family: tahoma;">الفاتورة</span></td>
                                <td colspan="2">Due / <span style="letter-spacing:normal !important;font-size: 13px;font-family: tahoma;"> المستحق</span></td>
                            </tr>
                            <tr class="ItemColor text-center">
                                <td rowspan="2" class="text-left">
                                    Customer Id: @InvoiceMDetails.CustomerId
                                    <h3 style="margin:0px; text-transform:uppercase">@InvoiceMDetails.Customer.CustomerNameEn</h3>
                                    <br>

                                </td>
                                <th nowrap="">Date / <span style="letter-spacing:normal !important;font-family: tahoma;">تاريخ</span></th>

                                <th nowrap="">Inv # / <span style="letter-spacing:normal !important;font-family: tahoma;">رقم</span></th>

                                <th nowrap="">Amt. / <span style="letter-spacing:normal !important;font-family: tahoma;">إجمالي </span></th>

                                <th nowrap="">Date / <span style="letter-spacing:normal !important;font-family: tahoma;">تاريخ</span></th>

                            </tr>
                            <tr class="ItemColor">

                                <td nowrap="">
                                    @Convert.ToDateTime(InvoiceMDetails.InvoiceDate).ToString("dd-MMM-yyyy")
                                </td>
                                <td class="text-center">
                                    @InvoiceMDetails.InvoiceNo
                                </td>

                                <td class="text-center" nowrap="">
                                    @InvoiceMDetails.SubTotal @InvoiceMDetails.Currency
                                </td>
                                <td nowrap="">
                                    @Convert.ToDateTime(InvoiceMDetails.DueDate).ToString("dd-MMM-yyyy")
                                </td>

                            </tr>
                        </tbody>
                    </table>
                    <br>
                    <table cellspacing="0" cellpadding="5" rules="all" border="0" id="DataGrid1" style="width: 100%;  " class="tblDetail">
                        <thead>
                            <tr class="Grid_HeaderStyle Grid_HeaderStyle_Arabic">
                                <th width="30px">رقم</th>
                                <th>الوصف</th>

                                <th width="60px">مبلغ الفاتورة</th>
                                <th width="40px">ضريبة</th>
                                <th width="40px">قيمة الضريبة</th>
                                <th width="40px">إجمالي</th>
                            </tr>
                            <tr class="Grid_HeaderStyle">
                                <th>Sr#</th>
                                <th>Description</th>


                                <th nowrap="">Bill Amt.</th>
                                <th>VAT (%)</th>
                                <th>VAT Amt.</th>
                                <th nowrap="">Total (SAR)</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in InvoiceDList)
                            {
                                count = count + 1;
                                <tr class="ItemColor text-center">
                                    <td class="text-center">@count</td>
                                    <td class="text-left" width="200px">@item.Description</td>
                                    <td>@item.ItemPrice</td>
                                    <td class="text-center">@(InvoiceMDetails.TaxRate !=null ? InvoiceMDetails.TaxRate.TaxPercent : 0)</td>
                                    <td>@(item.TaxAmount)</td>
                                    <td>@(item.LineAmount)</td>
                                </tr>
                            }
                        </tbody>
                        <thead>
                            <tr class="Grid_HeaderStyle text-center">
                                <th colspan="2" class="text-left"></th>

                                <th>@(InvoiceDList.Count() > 0 ? InvoiceDList.Sum(c=>c.ItemPrice) : 0)</th>
                                <th></th>
                                <th>@(InvoiceDList.Count() > 0 ? InvoiceDList.Sum(c=>c.TaxAmount) : 0)</th>
                                <th>@(InvoiceDList.Count() > 0 ? InvoiceDList.Sum(c=>c.LineAmount) : 0)</th>
                            </tr>
                            <tr class="">
                                <td colspan="7" style="text-align:left">
                                    <small style="text-transform:capitalize">
                                        <b>Amount in words: </b>
                                        one
                                        Only
                                        <br>
                                        (All amount in Saudi Riyal)
                                    </small>
                                </td>

                            </tr>
                        </thead>
                    </table>






                    <br>
                    <h4 style="margin:10px 0px 5px 0px">Further Description:</h4>
                    <div id="FurtherDescription" style="font-size:13px">
                        @InvoiceMDetails.Note
                    </div>
                    <br><br>
                    <hr style="border: 1px solid whitesmoke; margin-bottom:5px;">
                    <table width="100%" style="font-size:15px">
                        <tbody>
                            <tr>
                                <td style="text-align:left; line-height:1; vertical-align:top" width="50%">
                                    <h4 style="margin:0px 0px 5px 0px">Bank Detail</h4>
                                    @CompanyDetail.BankDetailEn
                                    @*IBAN # : SA 2880000454608018501404<br>Al Rajhi Bank, Branch # 45400, Riyadh, KSA<br>Account Name: Turki Abdul Mohsen Alluhaid &amp; Saleh Abdullah Al Yahya Chartered Accountants.<br>*@
                                </td>

                                <td style="text-align:right;font-family: tahoma;line-height: 1; vertical-align:top;" id="tdPrint">
                                    <div dir="rtl">
                                        <h4 style="margin:0px 0px 5px 0px">تفاصيل البنك</h4>
                                        @CompanyDetail.BankDetailAr
                                        @*شركة تركي عبدالمحسن اللحيد وصالح عبدالله اليحيى محاسبون ومراجعون قانونيون<br>يمكن التحويل مباشرة بالريال السعودي على حسابنا رقم:<br> SA 28 8000 0454 6080 1850 1404  لدى بنك الراجحي فرع رقم 45400 الرياض، المملكة العربية السعودية<br>*@

                                    </div>

                                </td>

                            </tr>
                        </tbody>
                    </table>


                </td>

            </tr>
        </tbody>
    </table>

</div>


@*<div class="table-responsive pb-2 ">
        <table id="dtList" class="table table-hover table-condensed ">
            <thead class="text-sm">
                <tr class="col-lg-12">
                    <th style="width:20px">Id</th>
                    <th>Customer</th>
                    <th>Amount</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tfoot style="display:table-row-group">
                <tr class="text-center">
                    <th>Id</th>
                    <th>Customer</th>
                    <th>Amount</th>
                    <th>Date</th>

                </tr>
            </tfoot>
            <tbody>

                <tr class="text-center">
                    <td>@InvoiceMDetails.InvoiceId</td>
                    <td class="text-left">@InvoiceMDetails.Customer.CustomerNameEn</td>
                    <td class="text-right">@InvoiceMDetails.Total</td>
                    <td>@Convert.ToDateTime(InvoiceMDetails.CreatedDate).ToString("dd-MMM-yyyy")</td>
                </tr>
            </tbody>
        </table>
    </div>*@

<script>



</script>