@inject Microsoft.AspNetCore.Hosting.IWebHostEnvironment hostingEnv
@using System.IO
@using ErpOnClick.DAL.Models
@using ErpOnClick.ErpMain.Resources
@using ErpOnClick.DAL.Utilities
@inject LocService SharedLocalizer
@inject Microsoft.AspNetCore.Hosting.IHostingEnvironment _env;
@model Emp;
@{

    var filePath = NativePaths.GetFilePath(_env);

    Emp empDetails = @Model;
    bool isEdit = (empDetails != null);
    var envName = hostingEnv.EnvironmentName;
    string path = "";
    if (envName == "Production")
    {
        path = @Url.Content(@"C:\inetpub\wwwroot\ErpOnClick\Files");

    }
    else if (envName == "Development")
    {
        path = @Url.Content(@"C:/Hamza Nayel/NayelSourceCodes/ErpOnClick/Files");
        //path = @"C:\Hamza Nayel\NayelSourceCodes\ErpOnClick\Files";
    }

}


    @*<input type="hidden" id="ACTION_TYPE" name="ACTION_TYPE" value="@(isEdit ? "update" : "save")" />
    <input type="hidden" id="EmpId" name="EmpId" class="form-control" value="@(empDetails != null ? empDetails.EmpId : 0)" @(isEdit ? "readonly" : "") min="3" maxlength="3">
    <input type="hidden" id="CompanyId" name="CompanyId" class="form-control" value="@(empDetails != null ? empDetails.CompanyId : 0)">
    <input type="hidden" id="BranchId" name="BranchId" class="form-control" value="@(empDetails != null ? empDetails.BranchId : 0)">*@
    <div class="card card-default card-outline col-lg-12">
        <div class="card-header">
            <h2 class="card-title mt-1">
                @SharedLocalizer.GetLocalizedHtmlString("Personal Information")
            </h2>
            <!-- tools box -->
            @*<div class="card-tools pr-0">
                <button type="submit" class="btn  btn-sm btn-primary">
                    <i class="fas fa-save fa-fw"></i> @SharedLocalizer.GetLocalizedHtmlString("Save")
                </button>
                <a href="~/HumanResource/emp" type="button" class="btn  btn-sm btn-default">
                    <i class="fas fa-arrow-left fa-fw"></i> @SharedLocalizer.GetLocalizedHtmlString("Return")
                </a>
            </div>*@
            <!-- /. tools -->
        </div>
        <div class="card-body">
            <div class="row">

                <div class="col-lg-3 padding-left-0 pl-0 text-left" style="background-repeat:no-repeat;background-size: 200px 200px;background-image:url('/adminlte/dist/img/noimage.jpg');text-align: center" onclick="uploadimg()">
                    @if (empDetails != null && empDetails.ProfilePic != null)
                    {
                        <img style="width:200px;height:200px" id="profilePic" class="" src="@filePath@empDetails.ProfilePic" />
                        <input type="text" hidden id="ProfilePic" name="ProfilePic" value="@(empDetails!=null?empDetails.ProfilePic: null)">
                    }
                    else
                    {
                        <img style="width: 200px; height: 200px" id="profilePic" class="" src="/Erp/adminlte/dist/img/noimage.jpg" />
                    }

                </div>
                <input type="file" hidden id="ProfilePicFile" name="ProfilePicFile" class="">

                <div class="col-lg-9">
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label>@SharedLocalizer.GetLocalizedHtmlString("First Name")</label>
                                <input type="text" id="FirstNameEn" required name="FirstNameEn" class="form-control" value="@(empDetails!=null?empDetails.FirstNameEn: null)">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label>@SharedLocalizer.GetLocalizedHtmlString("Fathers Name") </label>
                                <input type="text" id="FatherNameEn" name="FatherNameEn" class="form-control" value="@(empDetails!=null?empDetails.FatherNameEn: null)">
                            </div>
                        </div>

                        <div class="col-sm-3">
                            <div class="form-group">
                                <label>@SharedLocalizer.GetLocalizedHtmlString("Grand Name")  </label>
                                <input type="text" id="GrandNameEn" name="GrandNameEn" class="form-control" value="@(empDetails!=null?empDetails.GrandNameEn: null)">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label>@SharedLocalizer.GetLocalizedHtmlString("Family Name") </label>
                                <input type="text" id="FamilyNameEn" name="FamilyNameEn" class="form-control" value="@(empDetails!=null?empDetails.FamilyNameEn: null)">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label>@SharedLocalizer.GetLocalizedHtmlString("First Name  (Arabic)") </label>
                                <input type="text" id="FirstNameAr" name="FirstNameAr" class="form-control" value="@(empDetails!=null?empDetails.FirstNameAr: null)">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label>@SharedLocalizer.GetLocalizedHtmlString("Father Name (Arabic)")</label>
                                <input type="text" id="FatherNameAr" name="FatherNameAr" class="form-control" value="@(empDetails!=null?empDetails.FatherNameAr: null)">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label>@SharedLocalizer.GetLocalizedHtmlString("Grand Name (Arabic)")</label>
                                <input type="text" id="GrandNameAr" name="GrandNameAr" class="form-control" value="@(empDetails!=null?empDetails.GrandNameAr: null)">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label>@SharedLocalizer.GetLocalizedHtmlString("Family Name (Arabic)")</label>
                                <input type="text" id="FamilyNameAr" name="FamilyNameAr" class="form-control" value="@(empDetails!=null?empDetails.FamilyNameAr: null)">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @*<div class="card card-default card-outline col-lg-12">
        <div class="card-header p-0 border-bottom-0">
            <div class="card" style="background-color: #496b6a">
            </div>
            <ul class="nav nav-tabs" id="custom-content-below-tab" role="tablist">
                <li class="nav-item active">
                    <a class="nav-link" style="background-color:#496b6a;color:white" id="tabMain-tab" data-toggle="pill" href="#tabMain" role="tab" aria-controls="tabMain" aria-selected="true"><i class="fa fa-info"></i> @SharedLocalizer.GetLocalizedHtmlString("General Info")</a>
                </li>

                @if (isEdit)
                {
                    @Html.Partial("_tabsPartial", empDetails);
                }
            </ul>
        </div>
    </div>*@
